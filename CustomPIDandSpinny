#pragma config(I2C_Usage, I2C1, i2cSensors)
#pragma config(Sensor, I2C_1,  ,               sensorQuadEncoderOnI2CPort,    , AutoAssign)
#pragma config(Motor,  port1,           spinny,        tmotorVex393HighSpeed_HBridge, openLoop, encoderPort, I2C_1)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

int per = 100;
int prevPos = 0, currentPos = 0;
int kp = 10;
int actualSpeed = 0;
int motorSpeed = 0;
int desiredSpeed = 40;

task main() {
	while (true) {
		sleep(per);
		
		currentPos = nMotorEncoder[spinny];
		actualSpeed = (currentPos - prevPos) / per;
		motorSpeed += (desiredSpeed - actualSpeed) * kp;
		prevPos = currentPos;
	}
}
